
{
  "entities": {
    "Guest": {
      "title": "Guest",
      "type": "object",
      "description": "Represents a guest who has visited the restaurant.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the guest." },
        "name": { "type": "string", "description": "The full name of the guest." },
        "phone": { "type": "string", "description": "The phone number of the guest." },
        "numberOfGuests": { "type": "number", "description": "The number of people in the guest's party." },
        "tables": { "type": "string", "description": "The table number(s) assigned to the guest." },
        "visitDate": { "type": "string", "format": "date-time", "description": "The date and time of the guest's visit." },
        "preferences": { "type": "string", "description": "Guest's preferences (e.g., allergies, seating)." },
        "feedback": { "type": "string", "description": "Feedback or notes from the guest." },
        "orderType": { "type": "string", "enum": ["dine-in", "takeaway"], "description": "The type of order." },
        "paymentMethod": { "type": "string", "enum": ["cash", "card"], "description": "The payment method used." },
        "orderItems": { 
            "type": "array",
            "description": "The items ordered by the guest.",
            "items": {
                "type": "object",
                "properties": {
                    "name": { "type": "string" },
                    "price": { "type": "number" },
                    "quantity": { "type": "number" }
                }
            }
        },
        "subtotal": { "type": "number", "description": "The subtotal of the order." },
        "tax": { "type": "number", "description": "The tax amount for the order." },
        "total": { "type": "number", "description": "The total amount of the order." }
      },
      "required": ["id", "name", "numberOfGuests", "visitDate", "orderType", "paymentMethod"]
    },
    "Reservation": {
      "title": "Reservation",
      "type": "object",
      "description": "Represents a reservation made by a guest.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the reservation." },
        "name": { "type": "string", "description": "The full name of the person who made the reservation." },
        "phone": { "type": "string", "description": "The phone number for the reservation." },
        "numberOfGuests": { "type": "number", "description": "The number of people in the party." },
        "dateOfEvent": { "type": "string", "format": "date-time", "description": "The date and time of the reservation." },
        "status": { "type": "string", "enum": ["upcoming", "seated", "canceled"], "description": "The current status of the reservation." },
        "notes": { "type": "string", "description": "Any special notes for the reservation." },
        "advancePayment": { "type": "number", "description": "Any advance payment made." },
        "occasion": { "type": "string", "enum": ["birthday", "anniversary", "marriage", "other"], "description": "The occasion for the reservation." },
        "checkedIn": { "type": "boolean", "description": "Whether the guest has checked in." }
      },
      "required": ["id", "name", "numberOfGuests", "dateOfEvent", "status"]
    },
    "Table": {
      "title": "Table",
      "type": "object",
      "description": "Represents a table in the restaurant.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the table." },
        "name": { "type": "string", "description": "The name or number of the table (e.g., 'T1', 'Patio 2')." },
        "capacity": { "type": "number", "description": "The seating capacity of the table." },
        "status": { "type": "string", "enum": ["available", "occupied", "reserved"], "description": "The current status of the table." }
      },
      "required": ["id", "name", "capacity", "status"]
    },
    "WaitingGuest": {
        "title": "WaitingGuest",
        "type": "object",
        "description": "Represents a guest on the waiting list.",
        "properties": {
            "id": { "type": "string", "description": "Unique identifier for the waiting guest." },
            "tokenNumber": { "type": "number", "description": "The token number assigned to the guest." },
            "name": { "type": "string", "description": "The full name of the guest." },
            "phone": { "type": "string", "description": "The phone number of the guest." },
            "numberOfGuests": { "type": "number", "description": "The number of people in the party." },
            "status": { "type": "string", "enum": ["waiting", "called", "seated"], "description": "The current status of the waiting guest." },
            "createdAt": { "type": "string", "format": "date-time", "description": "The time the guest was added to the waitlist." }
        },
        "required": ["id", "tokenNumber", "name", "numberOfGuests", "status", "createdAt"]
    }
  },
  "auth": {
    "providers": ["anonymous", "email"]
  },
  "firestore": {
    "/guests/{guestId}": {
      "schema": { "$ref": "#/entities/Guest" },
      "description": "Stores individual records of guest visits."
    },
    "/reservations/{reservationId}": {
      "schema": { "$ref": "#/entities/Reservation" },
      "description": "Stores all guest reservations."
    },
    "/tables/{tableId}": {
      "schema": { "$ref": "#/entities/Table" },
      "description": "Stores the restaurant's table layout and capacity."
    },
    "/waitingGuests/{waitingGuestId}": {
      "schema": { "$ref": "#/entities/WaitingGuest" },
      "description": "Stores the list of guests currently waiting for a table."
    }
  }
}
